---
import ArticleCard from "@/components/card/ArticleCard.astro";
import ProjectCard from "@/components/card/ProjectCard.astro";
import Empty from "@/components/Empty.astro";
import SocialMedia from "@/components/SocialMedia.astro";
import Layout from "@/layouts/Layout.astro";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const articles = await getCollection("articles");
---

<Layout title="Home">
    <section class="flex sm:flex-row flex-col gap-5 justify-between sm:items-center items-start">
        <Image
            width={1}
            height={1}
            src="https://avatars.githubusercontent.com/u/68896885?v=4"
            alt="hmdnu"
            class="size-40 rounded-full object-cover"
        />

        <div class="flex flex-col gap-2.5">
            <div class="flex flex-col sm:items-end items-start sm:text-end text-start">
                <h1 class="sm:text-400 text-300 font-bold">Hi there, I'm Hamdan</h1>
                <h2 class="opacity-60 sm:text-150">Iâ€™m a Fullstack developer focusing on Software Development.</h2>
            </div>
            <div class="flex sm:justify-end justify-start">
                <SocialMedia />
            </div>
        </div>
    </section>

    <section class="flex flex-col mt-16">
        <h1 class="sm:text-300 text-200 font-bold mb-5">My Projects</h1>
        <div class="flex flex-col gap-5">
            {
                projects.length !== 0 ? (
                    projects.slice(0, 2).map((project) => <ProjectCard {...project.data} slug={project.slug} />)
                ) : (
                    <Empty props="No projects yet" />
                )
            }
        </div>
    </section>

    <section class="flex flex-col mt-16">
        <h1 class="sm:text-300 text-200 font-bold mb-5">My Articles</h1>
        <div class="flex flex-col gap-5">
            {
                articles.length !== 0 ? (
                    articles.slice(0, 2).map((article) => <ArticleCard {...article.data} slug={article.slug} />)
                ) : (
                    <Empty props="No articlles yet" />
                )
            }
        </div>
    </section>
</Layout>
